# 数据统计页面设计文档

## 功能描述说明

数据统计页面是快速开发管理平台的数据分析中心，为管理员提供系统运行状态和用户行为的可视化图表，具有以下功能：

1. **数据概览**：通过卡片形式展示关键指标（总用户数、总工程数、插件总数、插件下载量）
2. **多维度数据分析**：提供用户数据、插件数据、工程数据三个维度的详细分析
3. **时间维度筛选**：支持按今日/本周/本月等不同时间维度查看数据
4. **趋势分析**：通过图表直观展示数据变化趋势
5. **数据对比**：展示当前数据与上期（上周/上月/上季度）数据的增长率
6. **搜索功能**：支持搜索特定数据
7. **数据导出**：支持将统计数据导出为Excel或CSV格式
8. **自定义报表**：允许用户自定义统计报表内容和布局

### 字段信息

**数据概览字段**：
- **总用户数**：系统中注册的总用户数量
- **用户增长率**：与上期相比的用户增长百分比
- **总工程数**：系统中创建的总工程数量
- **工程增长率**：与上期相比的工程增长百分比
- **插件总数**：系统中安装的总插件数量
- **插件增长率**：与上期相比的插件增长百分比
- **插件下载量**：插件被下载的总次数
- **下载增长率**：与上期相比的下载量增长百分比

**用户活跃度字段**：
- **日活跃用户数（DAU）**：每日登录系统的独立用户数
- **周活跃用户数（WAU）**：每周至少登录一次系统的独立用户数
- **月活跃用户数（MAU）**：每月至少登录一次系统的独立用户数
- **活跃度环比**：与前一时间段相比的活跃度变化率
- **用户留存率**：特定时间段后仍继续使用系统的用户比例
- **平均使用时长**：用户单次登录的平均停留时间

**用户地区分布字段**：
- **地区名称**：用户所在地区（国家/省份/城市）
- **用户数量**：该地区的用户数量
- **占比百分比**：该地区用户占总用户的百分比
- **环比增长**：与上期相比该地区用户的增长率

**插件使用统计字段**：
- **插件名称**：插件的显示名称
- **安装次数**：插件被安装的总次数
- **活跃实例数**：当前启用状态的插件实例数量
- **平均评分**：用户对插件的平均评分（1-5星）
- **版本分布**：各版本的使用占比

## 样式描述说明

数据统计页面采用清晰的卡片式布局，以直观的可视化形式呈现数据：

### 整体布局
- **分区布局**：左侧为固定导航栏，右侧为主要内容区域
- **顶部操作栏**：包含页面标题、搜索框和用户头像
- **内容分页**：使用水平页签切换不同类别的数据分析
- **响应式设计**：
  - 大屏幕：多列网格布局
  - 平板：双列网格布局
  - 移动端：单列堆叠布局

### 数据概览区设计
- **网格布局**：四等分网格（grid grid-cols-4 gap-6）展示关键指标卡片
- **卡片样式**：
  - 白色背景（bg-white）
  - 圆角设计（rounded-xl）
  - 阴影效果（shadow-md）
  - 轻微悬停放大效果（transform: scale(1.005)）
  - 内边距适中（p-5）
  - 卡片高度固定（h-32）
- **卡片结构**：
  - 指标名称：顶部左侧显示（text-sm font-medium text-gray-500）
  - 图标：顶部右侧圆形背景图标（主题色半透明背景）
  - 数值：大号字体显示具体数字（text-2xl font-bold）
  - 增长率：底部显示与上期相比的增长率，带颜色和箭头提示（绿色上升，红色下降）
  - 微型趋势图：底部右侧小型迷你图表显示趋势

### 页签导航设计
- **水平页签**：三个选项卡（用户数据/插件数据/工程数据）
- **标记样式**：当前活动页签底部有橙色边框标记（border-primary）
- **图标辅助**：每个页签带有相应的图标提升可识别性
- **选中状态**：
  - 文字加粗（font-semibold）
  - 文字颜色加深（text-gray-800）
  - 底部边框（border-b-2 border-orange-400）
- **过渡效果**：平滑切换动画（transition-all duration-300）
- **水平间距**：页签间保持足够间距（mx-6）

### 数据详情卡片设计
#### 用户活跃度卡片
- **顶部操作**：卡片顶部含标题和时间筛选按钮组（今日/本周/本月）
  - 标题样式：左侧标题（text-lg font-semibold）
  - 按钮组样式：右侧圆角按钮组（rounded-lg overflow-hidden border border-gray-200）
  - 按钮状态：当前选中按钮使用橙色背景（bg-orange-400 text-white）
  - 按钮过渡：平滑过渡效果（transition-colors duration-200）
- **三栏布局**：并排展示日活/周活/月活三组数据（flex justify-between）
- **数据展示**：
  - 指标名称和小图标（flex items-center text-gray-500）
  - 大字号数值（text-3xl font-bold mt-2）
  - 增长率对比（带上升/下降图标）
  - 下方折线图直观展示趋势（h-48）
- **图表设计**：
  - 轴线样式：浅灰色虚线网格（grid-lines）
  - 数据线条：渐变色线条（gradient-line）
  - 数据点标记：小圆点标记关键数据点
  - 悬停效果：鼠标悬停显示详细数据值
  - 图例说明：图表下方简洁图例

#### 用户地区分布卡片
- **环形图展示**：使用Chart.js绘制环形图，显示不同地区的用户占比
  - 图表尺寸：适中大小（w-64 h-64）
  - 圆环粗细：适中粗细（cutout: 70%）
  - 颜色方案：渐变色彩方案，相邻区域色彩区分明显
  - 动画效果：加载时的旋转动画（animation）
- **图例说明**：图表旁展示各地区具体数值和百分比
  - 列表样式：垂直列表（space-y-3）
  - 项目样式：包含色彩方块、地区名、数值和百分比（flex justify-between）
  - 排序方式：按占比从高到低排序
- **交互功能**：
  - 鼠标悬停显示详细数据气泡提示
  - 点击图例可隐藏/显示特定地区数据
  - 双击重置所有显示状态

#### 用户增长趋势卡片
- **折线图展示**：使用Chart.js绘制折线图，显示用户数量随时间的变化
  - 图表高度：固定高度（h-80）
  - 线条样式：平滑曲线（tension: 0.4）
  - 点标记：关键点小圆点标记（radius: 3）
  - 填充区域：线条下方半透明填充
- **时间轴**：横轴为时间，竖轴为用户数量
  - X轴刻度：动态调整时间间隔
  - Y轴刻度：动态计算合适的刻度间隔
  - 网格线：浅色网格线提升可读性
- **数据对比**：可显示多条线，对比不同时期或不同类型的用户增长
  - 线条区分：不同颜色区分不同数据系列
  - 图例说明：顶部简洁图例
  - 选择器：顶部时间范围选择器（30天/90天/365天）

### 插件数据与工程数据页签
- **相似布局**：与用户数据页签保持一致的布局风格
- **专属指标**：根据插件和工程的特性展示相应的关键指标
- **插件热度排行榜**：
  - 表格式布局：排名、插件名称、安装次数、评分
  - 排序选项：可按不同指标排序
  - 趋势指示：显示排名变化趋势（上升/下降）
- **插件类别分布**：
  - 饼图展示：不同类别插件的数量占比
  - 互动效果：点击查看类别详情
- **工程类型分布**：
  - 柱状图展示：不同类型工程的数量对比
  - 排序选项：可按数量或名称排序
- **工程创建趋势**：
  - 折线图展示：工程创建数量随时间的变化
  - 对比功能：可与历史数据进行对比

### 导出与分享功能设计
- **导出按钮**：右上角导出按钮（带下拉菜单）
  - 按钮样式：轻量边框按钮（border border-gray-200 rounded-lg px-4 py-2）
  - 图标：下载图标+文字组合
  - 下拉菜单：Excel/CSV/PNG选项
- **分享按钮**：导出按钮旁的分享按钮
  - 功能选项：复制链接、发送邮件、生成报告
  - 交互反馈：操作成功后的确认提示

